# üöÄ SNS Video Generator „Éá„Éó„É≠„Ç§„É°„É≥„Éà„Ç¨„Ç§„Éâ

## üìã „Éá„Éó„É≠„Ç§„É°„É≥„ÉàÊâãÈ†Ü

### 1. Supabase„Éó„É≠„Ç∏„Çß„ÇØ„Éà‰ΩúÊàê

1. **Supabase Dashboard„Å´„Ç¢„ÇØ„Çª„Çπ**
   - https://supabase.com/dashboard „Å´„Ç¢„ÇØ„Çª„Çπ
   - „ÄåNew Project„Äç„Çí„ÇØ„É™„ÉÉ„ÇØ

2. **„Éó„É≠„Ç∏„Çß„ÇØ„ÉàË®≠ÂÆö**
   ```
   Project Name: sns-video-generator
   Database Password: ÂÆâÂÖ®„Å™„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÁîüÊàê
   Region: Northeast Asia (Tokyo) - ap-northeast-1
   ```

3. **API„Ç≠„ÉºÂèñÂæó**
   - Project Settings ‚Üí API
   - ‰ª•‰∏ã„Çí„Ç≥„Éî„ÉºÔºö
     - Project URL (NEXT_PUBLIC_SUPABASE_URL)
     - anon public key (NEXT_PUBLIC_SUPABASE_ANON_KEY)
     - service_role key (SUPABASE_SERVICE_ROLE_KEY)

### 2. „Éá„Éº„Çø„Éô„Éº„Çπ„Çπ„Ç≠„Éº„ÉûÈÅ©Áî®

Supabase SQL Editor„Åß‰ª•‰∏ã„ÇíÂÆüË°åÔºö

```sql
-- Enable necessary extensions
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- Users table (extends Supabase auth.users)
CREATE TABLE public.profiles (
  id UUID REFERENCES auth.users(id) PRIMARY KEY,
  email TEXT,
  full_name TEXT,
  avatar_url TEXT,
  usage_count INTEGER DEFAULT 0,
  subscription_tier TEXT DEFAULT 'free',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Video uploads table
CREATE TABLE public.video_uploads (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) NOT NULL,
  title TEXT NOT NULL,
  youtube_url TEXT,
  file_path TEXT,
  thumbnail_url TEXT,
  duration NUMERIC,
  status TEXT DEFAULT 'pending',
  metadata JSONB DEFAULT '{}',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Video projects table
CREATE TABLE public.video_projects (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) NOT NULL,
  upload_id UUID REFERENCES public.video_uploads(id),
  title TEXT NOT NULL,
  description TEXT,
  segments JSONB DEFAULT '[]',
  settings JSONB DEFAULT '{}',
  status TEXT DEFAULT 'draft',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Social media posts table
CREATE TABLE public.social_media_posts (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) NOT NULL,
  project_id UUID REFERENCES public.video_projects(id),
  platform TEXT NOT NULL,
  post_id TEXT,
  content TEXT,
  media_urls TEXT[],
  status TEXT DEFAULT 'draft',
  scheduled_at TIMESTAMP WITH TIME ZONE,
  posted_at TIMESTAMP WITH TIME ZONE,
  metadata JSONB DEFAULT '{}',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Audio library table
CREATE TABLE public.audio_library (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  title TEXT NOT NULL,
  category TEXT NOT NULL,
  mood TEXT,
  duration NUMERIC,
  file_url TEXT NOT NULL,
  license_type TEXT DEFAULT 'royalty_free',
  tags TEXT[],
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Video templates table
CREATE TABLE public.video_templates (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name TEXT NOT NULL,
  description TEXT,
  category TEXT NOT NULL,
  template_data JSONB NOT NULL,
  preview_url TEXT,
  is_public BOOLEAN DEFAULT true,
  created_by UUID REFERENCES auth.users(id),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Enable Row Level Security
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.video_uploads ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.video_projects ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.social_media_posts ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.audio_library ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.video_templates ENABLE ROW LEVEL SECURITY;

-- RLS Policies

-- Profiles policies
CREATE POLICY "Users can view own profile" ON public.profiles
  FOR SELECT USING (auth.uid() = id);
CREATE POLICY "Users can update own profile" ON public.profiles
  FOR UPDATE USING (auth.uid() = id);
CREATE POLICY "Users can insert own profile" ON public.profiles
  FOR INSERT WITH CHECK (auth.uid() = id);

-- Video uploads policies
CREATE POLICY "Users can view own uploads" ON public.video_uploads
  FOR SELECT USING (auth.uid() = user_id);
CREATE POLICY "Users can insert own uploads" ON public.video_uploads
  FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "Users can update own uploads" ON public.video_uploads
  FOR UPDATE USING (auth.uid() = user_id);
CREATE POLICY "Users can delete own uploads" ON public.video_uploads
  FOR DELETE USING (auth.uid() = user_id);

-- Video projects policies
CREATE POLICY "Users can view own projects" ON public.video_projects
  FOR SELECT USING (auth.uid() = user_id);
CREATE POLICY "Users can insert own projects" ON public.video_projects
  FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "Users can update own projects" ON public.video_projects
  FOR UPDATE USING (auth.uid() = user_id);
CREATE POLICY "Users can delete own projects" ON public.video_projects
  FOR DELETE USING (auth.uid() = user_id);

-- Social media posts policies
CREATE POLICY "Users can view own posts" ON public.social_media_posts
  FOR SELECT USING (auth.uid() = user_id);
CREATE POLICY "Users can insert own posts" ON public.social_media_posts
  FOR INSERT WITH CHECK (auth.uid() = user_id);
CREATE POLICY "Users can update own posts" ON public.social_media_posts
  FOR UPDATE USING (auth.uid() = user_id);
CREATE POLICY "Users can delete own posts" ON public.social_media_posts
  FOR DELETE USING (auth.uid() = user_id);

-- Audio library policies (public read access)
CREATE POLICY "Anyone can view audio library" ON public.audio_library
  FOR SELECT USING (true);

-- Video templates policies
CREATE POLICY "Anyone can view public templates" ON public.video_templates
  FOR SELECT USING (is_public = true);
CREATE POLICY "Users can view own templates" ON public.video_templates
  FOR SELECT USING (auth.uid() = created_by);
CREATE POLICY "Users can insert own templates" ON public.video_templates
  FOR INSERT WITH CHECK (auth.uid() = created_by);
CREATE POLICY "Users can update own templates" ON public.video_templates
  FOR UPDATE USING (auth.uid() = created_by);
CREATE POLICY "Users can delete own templates" ON public.video_templates
  FOR DELETE USING (auth.uid() = created_by);

-- Insert sample audio library data
INSERT INTO public.audio_library (title, category, mood, duration, file_url, tags) VALUES
('Energetic Beat', 'background', 'energetic', 120, '/audio/energetic-beat.mp3', ARRAY['upbeat', 'electronic']),
('Chill Vibes', 'background', 'chill', 90, '/audio/chill-vibes.mp3', ARRAY['relaxed', 'ambient']),
('Corporate Intro', 'background', 'professional', 30, '/audio/corporate-intro.mp3', ARRAY['business', 'clean']),
('Epic Cinematic', 'background', 'dramatic', 180, '/audio/epic-cinematic.mp3', ARRAY['cinematic', 'powerful']),
('Success Notification', 'effect', 'positive', 2, '/audio/success.mp3', ARRAY['notification', 'achievement']),
('Click Sound', 'effect', 'neutral', 1, '/audio/click.mp3', ARRAY['ui', 'button']),
('Swoosh Transition', 'effect', 'neutral', 1.5, '/audio/swoosh.mp3', ARRAY['transition', 'movement']),
('Error Alert', 'effect', 'negative', 2, '/audio/error.mp3', ARRAY['alert', 'warning']);

-- Insert sample video templates
INSERT INTO public.video_templates (name, description, category, template_data, preview_url, is_public) VALUES
('Social Media Highlights', 'Perfect for Instagram Reels and TikTok', 'social', 
'{"duration": 15, "aspectRatio": "9:16", "textStyles": [{"position": "bottom", "fontSize": 24, "color": "#ffffff"}], "transitions": ["fadeIn", "slideUp"]}', 
'/templates/social-highlights.jpg', true),
('YouTube Shorts', 'Optimized for YouTube Shorts format', 'youtube', 
'{"duration": 60, "aspectRatio": "9:16", "textStyles": [{"position": "center", "fontSize": 32, "color": "#ff0000"}], "transitions": ["zoom", "cut"]}', 
'/templates/youtube-shorts.jpg', true),
('Professional Presentation', 'Clean and professional style', 'business', 
'{"duration": 30, "aspectRatio": "16:9", "textStyles": [{"position": "bottom-left", "fontSize": 28, "color": "#333333"}], "transitions": ["fadeIn", "slideLeft"]}', 
'/templates/professional.jpg', true),
('Creative Storytelling', 'Dynamic and engaging format', 'creative', 
'{"duration": 45, "aspectRatio": "1:1", "textStyles": [{"position": "top", "fontSize": 30, "color": "#ffffff"}], "transitions": ["scaleIn", "rotate"]}', 
'/templates/creative.jpg', true);

-- Create functions for updated_at triggers
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ language 'plpgsql';

-- Create triggers for updated_at
CREATE TRIGGER update_profiles_updated_at BEFORE UPDATE ON public.profiles FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();
CREATE TRIGGER update_video_uploads_updated_at BEFORE UPDATE ON public.video_uploads FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();
CREATE TRIGGER update_video_projects_updated_at BEFORE UPDATE ON public.video_projects FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();
CREATE TRIGGER update_social_media_posts_updated_at BEFORE UPDATE ON public.social_media_posts FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();
CREATE TRIGGER update_video_templates_updated_at BEFORE UPDATE ON public.video_templates FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();
```

### 3. OpenAI APIË®≠ÂÆö

1. **OpenAI Platform„Å´„Ç¢„ÇØ„Çª„Çπ**
   - https://platform.openai.com/api-keys
   - „ÄåCreate new secret key„Äç„Çí„ÇØ„É™„ÉÉ„ÇØ

2. **API„Ç≠„ÉºÂèñÂæó**
   - „Ç≠„ÉºÂêç: `sns-video-generator`
   - Ê®©Èôê: „Åô„Åπ„Å¶ÔºàGPT-4V„ÄÅWhisperÂê´„ÇÄÔºâ
   - ‰ΩøÁî®Âà∂Èôê: ÊúàÈ°çÂà∂Èôê„ÇíË®≠ÂÆö

### 4. OAuth ProviderË®≠ÂÆö

#### Google OAuth
1. Google Cloud Console ‚Üí APIs & Services ‚Üí Credentials
2. OAuth 2.0 Client ID‰ΩúÊàê:
   ```
   Application type: Web application
   Authorized redirect URIs: 
   - http://localhost:3000/api/auth/callback/google
   - https://your-domain.vercel.app/api/auth/callback/google
   ```

#### GitHub OAuth
1. GitHub Settings ‚Üí Developer settings ‚Üí OAuth Apps
2. New OAuth App:
   ```
   Application name: SNS Video Generator
   Homepage URL: https://your-domain.vercel.app
   Authorization callback URL: https://your-domain.vercel.app/api/auth/callback/github
   ```

### 5. VercelÁí∞Â¢ÉÂ§âÊï∞Ë®≠ÂÆö

Vercel Dashboard ‚Üí Project ‚Üí Settings ‚Üí Environment Variables:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# OpenAI
OPENAI_API_KEY=sk-your_openai_key

# NextAuth
NEXTAUTH_URL=https://your-domain.vercel.app
NEXTAUTH_SECRET=your_random_secret_32_chars

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# GitHub OAuth
GITHUB_ID=your_github_client_id
GITHUB_SECRET=your_github_client_secret
```

### 6. ÊúÄÁµÇ„Éá„Éó„É≠„Ç§

```bash
git add .
git commit -m "Production deployment with database schema"
git push origin main
```

Vercel„ÅåËá™ÂãïÁöÑ„Å´ÂÜç„Éá„Éó„É≠„Ç§„ÇíÂÆüË°å„Åó„Åæ„Åô„ÄÇ

### 7. Âãï‰ΩúÁ¢∫Ë™ç

1. **Ë™çË®º„ÉÜ„Çπ„Éà**: Google/GitHub„É≠„Ç∞„Ç§„É≥
2. **ÂãïÁîª„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ**: YouTube URLÂÖ•Âäõ
3. **AIÂàÜÊûê**: GPT-4VÂãïÁîªËß£Êûê
4. **ÂãïÁîªÁîüÊàê**: „Çª„Ç∞„É°„É≥„Éà‰ΩúÊàê„Éª„Ç®„ÇØ„Çπ„Éù„Éº„Éà
5. **„ÇΩ„Éº„Ç∑„É£„É´ÊäïÁ®ø**: ÂêÑ„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†ÊäïÁ®ø

## üéØ „Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†Ê©üËÉΩ

### ÂÆåÂÖ®ÂÆüË£ÖÊ∏à„ÅøÊ©üËÉΩ
- ‚úÖ YouTubeÂãïÁîª„Ç§„É≥„Éù„Éº„Éà
- ‚úÖ AIÂãïÁîªÂàÜÊûêÔºàGPT-4VÔºâ
- ‚úÖ Ëá™Âãï„Çª„Ç∞„É°„É≥„ÉàÊäΩÂá∫
- ‚úÖ „ÉÜ„Ç≠„Çπ„ÉàÁ∑®ÈõÜ„Éª„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
- ‚úÖ Èü≥Â£∞„É©„Ç§„Éñ„É©„É™Áµ±Âêà
- ‚úÖ ÂãïÁîª„Éó„É¨„Éì„É•„Éº„Éª„Ç®„ÇØ„Çπ„Éù„Éº„Éà
- ‚úÖ „ÇΩ„Éº„Ç∑„É£„É´„É°„Éá„Ç£„Ç¢ÊäïÁ®ø
- ‚úÖ „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÁÆ°ÁêÜ
- ‚úÖ „ÉÜ„É≥„Éó„É¨„Éº„Éà„Ç∑„Çπ„ÉÜ„É†

### „ÉÜ„Çπ„Éà„Ç´„Éê„É¨„ÉÉ„Ç∏
- **169/169„ÉÜ„Çπ„ÉàÈÄöÈÅé** (100%)
- **TypeScriptÂé≥ÂØÜ„É¢„Éº„Éâ**
- **ESLintÊ∫ñÊã†**

## üîß „Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞

### „Çà„Åè„ÅÇ„ÇãÂïèÈ°å

1. **„Éì„É´„Éâ„Ç®„É©„Éº**
   - Áí∞Â¢ÉÂ§âÊï∞„ÅåÊ≠£„Åó„ÅèË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Çã„ÅãÁ¢∫Ë™ç
   - SupabaseÊé•Á∂ö„Çí„ÉÜ„Çπ„Éà

2. **Ë™çË®º„Ç®„É©„Éº**
   - OAuthË®≠ÂÆö„ÅÆ„É™„ÉÄ„Ç§„É¨„ÇØ„ÉàURLÁ¢∫Ë™ç
   - NextAuthË®≠ÂÆöÁ¢∫Ë™ç

3. **APIÂà∂Èôê**
   - OpenAI‰ΩøÁî®ÈáèÁ¢∫Ë™ç
   - VercelÈñ¢Êï∞„Çø„Ç§„É†„Ç¢„Ç¶„ÉàÁ¢∫Ë™ç

4. **ÂãïÁîª„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÂ§±Êïó**
   - „Éï„Ç°„Ç§„É´„Çµ„Ç§„Ç∫Âà∂ÈôêÁ¢∫Ë™ç
   - YouTube URLÂΩ¢ÂºèÁ¢∫Ë™ç

## üìû „Çµ„Éù„Éº„Éà

ÂïèÈ°å„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà:
1. GitHub Issues: https://github.com/plus61/sns-video-generator/issues
2. Ë®≠ÂÆöÁ¢∫Ë™ç„ÉÅ„Çß„ÉÉ„ÇØ„É™„Çπ„ÉàÂÆüË°å
3. „É≠„Ç∞„Éï„Ç°„Ç§„É´Á¢∫Ë™ç

---

**„Åì„ÅÆ„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†„ÅØÂÆåÂÖ®„Å´klap.app„ÅÆ‰ª£Êõø„Å®„Åó„Å¶Ê©üËÉΩ„Åó„Åæ„Åô** üöÄ