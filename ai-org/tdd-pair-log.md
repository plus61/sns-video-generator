# ğŸš€ TDDå®Ÿè¨¼ãƒšã‚¢ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨˜éŒ²

## ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±
- é–‹å§‹æ™‚åˆ»: #åˆå¾Œ
- ãƒ‰ãƒ©ã‚¤ãƒãƒ¼: Worker2
- ãƒŠãƒ“ã‚²ãƒ¼ã‚¿ãƒ¼: Worker3ï¼ˆè¤‡é›‘æ€§ç›£æŸ»å½¹ï¼‰
- æ©Ÿèƒ½: å‹•ç”»ã‚µãƒ ãƒã‚¤ãƒ«ç”Ÿæˆ

## ãƒ•ã‚§ãƒ¼ã‚º1: Red Phaseï¼ˆ0-5åˆ†ï¼‰âœ… å®Œäº†

### ãƒŠãƒ“ã‚²ãƒ¼ã‚¿ãƒ¼ã®æ€è€ƒ
1. **æœ€å°é™ã®ãƒ†ã‚¹ãƒˆã‹ã‚‰é–‹å§‹**
   - é–¢æ•°ãŒå­˜åœ¨ã™ã‚‹ã“ã¨
   - åŸºæœ¬çš„ãªå‹•ä½œç¢ºèª
   - éåº¦ãªæœŸå¾…å€¤ã¯è¨­å®šã—ãªã„

2. **7è¡Œå“²å­¦ã®é©ç”¨**
   - ãƒ†ã‚¹ãƒˆã‚‚7è¡Œä»¥å†…ã‚’ç›®æŒ‡ã™
   - ä¸è¦ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯é¿ã‘ã‚‹
   - æœ¬è³ªçš„ãªæ¤œè¨¼ã®ã¿

3. **ã‚·ãƒ³ãƒ—ãƒ«ã•ã®è¿½æ±‚**
   - ãƒ¢ãƒƒã‚¯ã¯ä½¿ã‚ãªã„ï¼ˆæœ€åˆã¯ï¼‰
   - å¤–éƒ¨ä¾å­˜ã¯æœ€å°é™ã«
   - ç†è§£ã—ã‚„ã™ã„ãƒ†ã‚¹ãƒˆå

### æœ€çµ‚çš„ãªãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ï¼ˆ3è¡Œï¼ï¼‰
```typescript
import { generateThumbnail } from '../src/lib/thumbnail';

test('generateThumbnail works', async () => {
  expect(await generateThumbnail('video.mp4')).toBeDefined();
});
```

### Red Phaseçµæœ
```
Cannot find module '../src/lib/thumbnail' from 'test/thumbnail.test.ts'
```
**æœŸå¾…é€šã‚Šã®å¤±æ•—ï¼** ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå­˜åœ¨ã—ãªã„ã‚¨ãƒ©ãƒ¼ã€‚

## ãƒ•ã‚§ãƒ¼ã‚º2: Green Phaseï¼ˆ5-15åˆ†ï¼‰é–‹å§‹

### ãƒŠãƒ“ã‚²ãƒ¼ã‚¿ãƒ¼ã®æ–¹é‡
**ã€Œæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™ã€**

1. **FFmpegã¯ä½¿ã‚ãªã„** - æœ€åˆã¯
2. **å®Ÿéš›ã®ã‚µãƒ ãƒã‚¤ãƒ«ç”Ÿæˆã¯ä¸è¦** - ãƒ†ã‚¹ãƒˆã‚’é€šã™ã ã‘
3. **7è¡Œä»¥å†…ã§å®Ÿè£…**

### æ¨å¥¨ã™ã‚‹æœ€å°å®Ÿè£…
```typescript
// src/lib/thumbnail.ts
export async function generateThumbnail(videoPath: string) {
  return {
    path: `${videoPath.replace(/\.[^.]+$/, '')}_thumb.jpg`
  };
}
```
**ãŸã£ãŸ5è¡Œï¼**

### ãªãœã“ã‚Œã§ååˆ†ã‹
- ãƒ†ã‚¹ãƒˆã®è¦æ±‚ï¼šã€Œå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã€â†’ âœ…
- å®Ÿè£…ã®è©³ç´°ã¯å¾Œã§è€ƒãˆã‚‹
- ã¾ãšã¯Greenã«ã™ã‚‹ã“ã¨ãŒé‡è¦

### Worker2ã¸ã®æŒ‡ç¤º
ã€Œsrc/lib/thumbnail.tsã‚’ä½œæˆã—ã¦ã€ä¸Šè¨˜ã®5è¡Œå®Ÿè£…ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€