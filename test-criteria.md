# 統合テスト成功基準

## 1. パフォーマンス基準

### ダウンロード成功率
- **目標**: 90%以上
- **測定方法**: 10本の動画中9本以上の成功
- **タイムアウト**: 60秒/動画

### 処理時間基準
- **短時間動画（〜1分）**: 5秒以内
- **中時間動画（1-5分）**: 15秒以内
- **長時間動画（5-15分）**: 30秒以内
- **全体平均**: 1分以内/動画

## 2. AI分析精度基準

### Whisper転写精度
- **日本語認識率**: 85%以上
- **タイムスタンプ精度**: ±1秒以内
- **音声欠落率**: 5%未満

### GPT-4スコアリング妥当性
- **スコア範囲**: 1-10の正規分布
- **カテゴリー分類精度**: 80%以上
- **理由説明の論理性**: 人間評価で7/10以上

### セグメント選定品質
- **多様性**: 同一タイプ2個以下
- **エンゲージメント予測**: 実際の視聴率との相関0.7以上

## 3. エラーハンドリング基準

### フォールバック動作
- **YouTube-dl失敗時**: モック分析への自動切替
- **OpenAI API失敗時**: ローカル分析への切替
- **FFmpeg失敗時**: エラーメッセージの明確化

### エラー率許容値
- **クリティカルエラー**: 0%（システム停止なし）
- **回復可能エラー**: 10%以下
- **警告レベル**: 20%以下

## 4. 統合動作基準

### API連携
- **/api/process-simple**: 全カテゴリー動画で動作
- **/api/analyze-simple**: モックとの互換性維持
- **Supabase統合**: 将来の拡張性確保

### メモリ使用量
- **ピーク使用量**: 1GB以下
- **メモリリーク**: なし（10回連続実行で確認）

## 5. レポート出力基準

### 自動レポート項目
- 各動画の処理時間
- 成功/失敗ステータス
- AIスコアリング結果
- エラー詳細（発生時）
- 全体統計サマリー

### 出力形式
- JSON形式での構造化データ
- Markdown形式での人間可読レポート
- CSVでの一覧エクスポート